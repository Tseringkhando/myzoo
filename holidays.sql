-- phpMyAdmin SQL Dump
-- version 4.8.5
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Jul 11, 2019 at 06:07 PM
-- Server version: 10.1.38-MariaDB
-- PHP Version: 7.1.27

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET AUTOCOMMIT = 0;
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `holidays`
--

-- --------------------------------------------------------

--
-- Table structure for table `category`
--

CREATE TABLE `category` (
  `id` int(11) NOT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `category`
--

INSERT INTO `category` (`id`, `name`) VALUES
(1, 'Beach Holidays'),
(2, 'City Breaks'),
(3, 'Camping'),
(4, 'Trekking'),
(7, 'Walk');

-- --------------------------------------------------------

--
-- Table structure for table `holiday`
--

CREATE TABLE `holiday` (
  `id` int(11) NOT NULL,
  `categoryId` int(11) DEFAULT NULL,
  `name` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `location` int(11) DEFAULT NULL,
  `price` varchar(255) COLLATE utf8mb4_unicode_ci DEFAULT NULL,
  `description` longblob,
  `image` text COLLATE utf8mb4_unicode_ci,
  `booked` tinyint(1) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci;

--
-- Dumping data for table `holiday`
--

INSERT INTO `holiday` (`id`, `categoryId`, `name`, `location`, `price`, `description`, `image`, `booked`) VALUES
(10, 1, 'Relaxing beach holiday in Crete', 4, '700', 0x477265656365e280997320626967676573742069736c616e645c725c6e5c725c6e4372657465207375627363726962657320746f207468652062696767657220697320626574746572207363686f6f6c206f662074686f756768742e0d0a204e6f74206f6e6c7920697320697420746865206c617267657374206f662074686520477265656b2049736c616e64732c200d0a20627574206974e2809973207468652035746820626967676573742069736c616e6420696e20746865204d65646974657272616e65616e2053656120e28093200d0a20436f7273696361207069707320697420746f207468652034746820706c61636520706f7374206279206a7573742061206665772068756e647265642061637265732e5c725c6e0d0a205468652066756c6c20737065637472756d206f6620626561636865735c725c6e5c725c6e4372657465e28099732073757065722d73697a65206d65616e73206974e280997320676f740d0a2020363530206d696c6573206f6620636f6173746c696e6520746f20676f2061726f756e642e20546865206265616368657320696e20746865204c6173736974686920617265612c0d0a202020746f207468652065617374206f66207468652069736c616e642c2061726520616e6e6578657320746f2074686520636f736d6f706f6c6974616e20746f776e73206f66204167696f730d0a202020204e696b6f6c616f7320616e6420456c6f756e64612e20486572652c2073756e626174686572732063616e206d6978207374696e7473206f6e207468652073756e6265642077697468200d0a2020202073686f7070696e672073707265657320616e64206c6f6e67206c756e6368657320696e2074686520737175617265732e204675727468657220776573742c20746865204368616e696120617265610d0a20202020207465616d7320426c756520466c61672062656163686573207769746820616e20686973746f726963616c206f6c6420746f776e2e205468652031322d6b696c6f6d657472652d706c7573200d0a202020202073776174686573206f662073616e6420696e207468652052657468796d6e6f6e20617265612061726520636f766572656420776974682074686520666f6f747072696e7473206f662066616d696c6965732c0d0a2020202020207768696c6520746865206265616368657320696e2074686520486572616b6c696f6e206172656120617265207468652073746167696e6720617265617320616e64207265636f766572792073706f7473200d0a202020202020666f72206e6967687473206f6e207468652074696c65732e5c725c6e486973746f726963616c207369676874735c725c6e5c725c6e4372657465e28099732074696d656c696e6520737472657463686573206261636b0d0a202020202020206d6f7265207468616e20342c3030302079656172732e20496e20666163742c207468652069736c616e642069732063726564697465642077697468206265696e6720746865206269727468706c616365206f660d0a20202020202020206d6f6465726e20636976696c69736174696f6e2e2045766964656e636520666f72207468697320636c61696d2063616e20626520666f756e64206174207468652050616c616365206f66204b6e6f73736f732c0d0a202020202020202020696e2074686520486572616b6c696f6e206172656120e2809320746865204d696e6f616e732077686f206c697665642068657265207765726520736f6d65206f66207468652066697273742070656f706c6520696e2074686520776f726c64200d0a202020202020202020746f20686176652066617368696f6e732c207061727469657320616e6420776f6d656ee2809973207269676874732e5c725c6e4d6f756e7461696e207363656e6572795c725c6e5c725c6e46696e616c6c792c204372657465206861732061200d0a2020202020202020206c696f6ee2809973207368617265206f6620756e73706f696c74207363656e6572792e20596f75e280996c6c20676574207468652062657374206665656c20666f722077686174207468652069736c616e642068617320746f206f6666657220617420202053616d6172696120476f7267652c20616e20686f7572e28099732064726976652066726f6d204368616e69612e2053747265746368696e6720666f72203136206b696c6f6d65747265732c206974e280997320746865206c6f6e6765737420696e204575726f70652e5c725c6e27, '3.jpg', 0),
(11, 2, 'Weekend in Paris', 3, '200', 0x6172697320697320657370656369616c6c79206b6e6f776e20666f7220697473200d0a20202020202020202020206d757365756d7320616e64206172636869746563747572616c206c616e646d61726b733a20746865204c6f757672652077617320746865206d6f7374207669736974656420617274206d757365756d20696e2074686520776f726c6420696e200d0a2020202020202020202020323031382c20776974682031302e32206d696c6c696f6e2076697369746f72732e20546865204d7573c3a9652064274f7273617920616e64204d7573c3a965206465206c274f72616e676572696520617265206e6f74656420666f72207468656972200d0a2020202020202020202020636f6c6c656374696f6e73206f66204672656e636820496d7072657373696f6e697374206172742c20616e642074686520506f6d7069646f752043656e747265204d7573c3a965204e6174696f6e616c206427417274204d6f6465726e6520686173200d0a2020202020202020202020746865206c61726765737420636f6c6c656374696f6e206f66206d6f6465726e20616e6420636f6e74656d706f726172792061727420696e204575726f70652e2054686520686973746f726963616c20646973747269637420616c6f6e67207468650d0a2020202020202020202020205365696e6520696e2074686520636974792063656e74726520697320636c6173736966696564206173206120554e4553434f20486572697461676520536974652e20506f70756c6172206c616e646d61726b7320696e207468652063656e747265206f66200d0a202020202020202020202020746865206369747920696e636c756465207468652043617468656472616c206f66204e6f7472652044616d6520646520506172697320616e642074686520476f7468696320726f79616c2063686170656c206f66205361696e74652d43686170656c6c652c200d0a202020202020202020202020626f7468206f6e2074686520c38e6c65206465206c6120436974c3a93b207468652045696666656c20546f7765722c20636f6e737472756374656420666f722074686520506172697320556e6976657273616c204578706f736974696f6e206f6620313838393b200d0a202020202020202020202020746865204772616e642050616c61697320616e642050657469742050616c6169732c206275696c7420666f722074686520506172697320556e6976657273616c204578706f736974696f6e206f6620313930303b2074686520417263206465205472696f6d706865200d0a2020202020202020202020206f6e20746865204368616d70732dc3896c7973c3a965732c20616e642074686520426173696c696361206f662053616372c3a92d436f657572206f6e207468652068696c6c206f66204d6f6e746d61727472652e, '2.jpg', 0),
(12, 3, 'Camping in France Edit test', 2, '199', 0x456e6a6f792073746179696e67206174206f75722063616d7073697465206a757374206120666577206d696e757465732077616c6b2066726f6d207468652062656163682e204120756e6971756520626c656e64206f6620616c6c20746865206265737420746861742074686520726567696f6e206f6620417175697461696e652068617320746f206f666665723a20612062656175746966756c206372797374616c20636c656172206c616b6520776974682073616e64732072656d696e697363656e74206f66207468652043617269626265616e2061776169747320796f752c207065726665637420666f72207468617420616c6c20696d706f7274616e7420626561636820686f6c69646179207468617420796f752068617665206c6f6e67656420666f72207769746820746865206368696c6472656e2e204e6f20706562626c65732c206e6f2077617665732c206a757374206372797374616c20636c656172207368616c6c6f772077617465727320616e6420736f66742066696e652073616e64733b20706572666563742073616e64636173746c6520636f6e646974696f6e7320616e642062617468696e6720666f7220616c6c2e466f7220746865206d6f726520616476656e7475726f7573207468657265206973207361696c696e672c2077696e6473757266696e672c20626f6174206869726520746f206578706c6f7265207365636c7564656420626561636865732c206f7220617420426973636172726f73736520506c6167652c206a7573742034206d696c657320617761792c207468652073757266207468617420686173206d616465207468697320726567696f6e2061206d6563636120666f7220626f6479626f61726465727320616e64207375726665727320697320746865726520666f7220796f7520746f20656e6a6f792e5468652061726561206973206f6e65206f6620746865206d6f737420696e746572657374696e6720696e204672616e63652e2046726f6d206e656172627920426f7264656175782c20612063697479207269636820696e20686973746f72792c207468652070696374757265737175652053742e20456d696c696f6e2c2066616d6f757320666f72206974732077696e6520746f20746865207374796c697368207961636874696e672063656e747265206f66204172636163686f6e207769746820697473206d616e7920706176656d656e742063616665732c2072657374617572616e74732c20626f7574697175657320616e6420636173696e6f2e2054727920746865207761766520706f6f6c7320616e6420776174657220636875746573206f66207468652041717561636974792046756e205061726b206f7220636c696d62207468652066616d6f75732044756e652044652050796c612c20746865726520697320736f6d657468696e6720666f72206576657279626f64792e, 'trek.jpg', 0),
(13, 4, 'Trekking 123', 6, '110', 0x77616b2077616c, 'trek.jpg', 0);

-- --------------------------------------------------------

--
-- Table structure for table `locations`
--

CREATE TABLE `locations` (
  `id` int(11) NOT NULL,
  `name` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `locations`
--

INSERT INTO `locations` (`id`, `name`) VALUES
(2, 'Biscarrosse, France'),
(3, 'Paris, France'),
(4, 'Agios Nikolaos, Greece'),
(6, 'Helambu,Nepal');

-- --------------------------------------------------------

--
-- Table structure for table `question`
--

CREATE TABLE `question` (
  `id` int(11) NOT NULL,
  `email` varchar(255) NOT NULL,
  `contact` varchar(255) NOT NULL,
  `question` text NOT NULL,
  `holidayId` int(11) NOT NULL,
  `adminId` int(11) DEFAULT NULL,
  `answered` tinyint(1) NOT NULL DEFAULT '0'
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `question`
--

INSERT INTO `question` (`id`, `email`, `contact`, `question`, `holidayId`, `adminId`, `answered`) VALUES
(4, 'dragonfiregal.2@gma.con', '9891231298', 'How long is the vacation?', 12, NULL, 0),
(5, 'candy.khando@gmail.com', '9009', 'test!', 11, NULL, 0),
(7, 'candy.khando@gmail.com', '9898989', 'testing you', 12, 1, 1);

-- --------------------------------------------------------

--
-- Table structure for table `specials`
--

CREATE TABLE `specials` (
  `id` int(11) NOT NULL,
  `title` varchar(255) NOT NULL,
  `description` text NOT NULL,
  `start_date` date NOT NULL,
  `image` longblob
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `specials`
--

INSERT INTO `specials` (`id`, `title`, `description`, `start_date`, `image`) VALUES
(4, 'A Great Opportunity!!!', 'test', '2019-07-10', 0x7661636174696f6e2e6a7067);

-- --------------------------------------------------------

--
-- Table structure for table `staff`
--

CREATE TABLE `staff` (
  `id` int(11) NOT NULL,
  `username` varchar(255) NOT NULL,
  `password` varchar(255) NOT NULL,
  `type` varchar(255) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

--
-- Dumping data for table `staff`
--

INSERT INTO `staff` (`id`, `username`, `password`, `type`) VALUES
(1, 'admin', '$2y$10$fKF5n8D2.fr5vkuqOkU0IOzB2zziwj1jWss3hhDd64vlAObS5Uz.C', 'super'),
(3, 'aa', '$2y$10$FQUZ41Bj2U0y3z/sYhTtu.d7BuKItbLnrFWkXvjiai.Xcw1XjVr9m', 'normal'),
(4, 'admin123', '$2y$10$pQs4ElMv0PGXc9.T4zy/lOD1RC8fdBgeWz0IgbxWVUY0OVHaSmV.u', 'super');

--
-- Indexes for dumped tables
--

--
-- Indexes for table `category`
--
ALTER TABLE `category`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `holiday`
--
ALTER TABLE `holiday`
  ADD PRIMARY KEY (`id`),
  ADD KEY `categoryId` (`categoryId`),
  ADD KEY `location` (`location`);

--
-- Indexes for table `locations`
--
ALTER TABLE `locations`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `question`
--
ALTER TABLE `question`
  ADD PRIMARY KEY (`id`),
  ADD KEY `question_ibfk_1` (`holidayId`),
  ADD KEY `question_ibfk_2` (`adminId`);

--
-- Indexes for table `specials`
--
ALTER TABLE `specials`
  ADD PRIMARY KEY (`id`);

--
-- Indexes for table `staff`
--
ALTER TABLE `staff`
  ADD PRIMARY KEY (`id`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `category`
--
ALTER TABLE `category`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT for table `holiday`
--
ALTER TABLE `holiday`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=14;

--
-- AUTO_INCREMENT for table `locations`
--
ALTER TABLE `locations`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=7;

--
-- AUTO_INCREMENT for table `question`
--
ALTER TABLE `question`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=8;

--
-- AUTO_INCREMENT for table `specials`
--
ALTER TABLE `specials`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- AUTO_INCREMENT for table `staff`
--
ALTER TABLE `staff`
  MODIFY `id` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=5;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `holiday`
--
ALTER TABLE `holiday`
  ADD CONSTRAINT `holiday_ibfk_1` FOREIGN KEY (`categoryId`) REFERENCES `category` (`id`),
  ADD CONSTRAINT `holiday_ibfk_2` FOREIGN KEY (`location`) REFERENCES `locations` (`id`);

--
-- Constraints for table `question`
--
ALTER TABLE `question`
  ADD CONSTRAINT `question_ibfk_1` FOREIGN KEY (`holidayId`) REFERENCES `holiday` (`id`) ON DELETE CASCADE ON UPDATE CASCADE,
  ADD CONSTRAINT `question_ibfk_2` FOREIGN KEY (`adminId`) REFERENCES `staff` (`id`) ON DELETE SET NULL ON UPDATE SET NULL;
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
